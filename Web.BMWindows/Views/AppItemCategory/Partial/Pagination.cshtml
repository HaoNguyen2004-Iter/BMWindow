<div class="d-flex justify-content-between align-items-center mt-3">
	<div>
		<small class="text-muted">
			Trang @Model.Page / @Model.TotalPages - Tổng: @Model.TotalItems
		</small>
	</div>
	<div class="pagination-controls"
		 data-page="@Model.Page"
		 data-page-size="@Model.PageSize"
		 data-total-items="@Model.TotalItems"
		 data-total-pages="@Model.TotalPages">
		@if (Model.TotalPages > 1)
		{
			var current = Model.Page;
			var total = Model.TotalPages;
			var windowSize = 5;
			var start = Math.Max(1, current - windowSize / 2);
			var end = Math.Min(total, start + windowSize - 1);
			if (end - start + 1 < windowSize)
				start = Math.Max(1, end - windowSize + 1);

			<nav aria-label="Category pages">
				<ul class="pagination pagination-sm mb-0">
					<li class="page-item @(current == 1 ? "disabled" : "")">
						<a class="page-link pg-link" href="?page=@(current - 1)&pageSize=@Model.PageSize" data-page="@(current - 1)" aria-label="Previous">
							&laquo;
						</a>
					</li>
					@if (start > 1)
					{
						<li class="page-item">
							<a class="page-link pg-link" href="?page=1&pageSize=@Model.PageSize" data-page="1">1</a>
						</li>
						if (start > 2)
						{
							<li class="page-item disabled"><span class="page-link">...</span></li>
						}
					}
					@for (int p = start; p <= end; p++)
					{
						<li class="page-item @(p == current ? "active" : "")">
							<a class="page-link pg-link" href="?page=@p&pageSize=@Model.PageSize" data-page="@p">@p</a>
						</li>
					}
					@if (end < total)
					{
						if (end < total - 1)
						{
							<li class="page-item disabled"><span class="page-link">...</span></li>
						}
						<li class="page-item">
							<a class="page-link pg-link" href="?page=@total&pageSize=@Model.PageSize" data-page="@total">@total</a>
						</li>
					}
					<li class="page-item @(current == total ? "disabled" : "")">
						<a class="page-link pg-link" href="?page=@(current + 1)&pageSize=@Model.PageSize" data-page="@(current + 1)" aria-label="Next">
							&raquo;
						</a>
					</li>
				</ul>
			</nav>
		}
	</div>
</div>